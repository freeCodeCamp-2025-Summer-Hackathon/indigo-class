{% extends "base.html" %} {% block title %} Affirmations {% endblock %} {% block
content %}
<h1>Affirmations</h1>

<!-- dummy page navigation -->
<section>
  <ul>
    {% if all_affirmations.has_prev %}
    <li>
      <a
        href="{{ url_for('affirmations.affirmations', page=all_affirmations.prev_num, category=request.args.get('category')) }}"
        >Previous</a
      >
    </li>
    {% else %}
    <li>
      <span>Previous</span>
      {% endif %}
    </li>

    {% for page in all_affirmations.iter_pages(left_edge=3, right_edge=3) %} {%
    if page %}
    <li>
      <a
        href="{{ url_for('affirmations.affirmations', page=page, category=request.args.get('category')) }}"
        >{{ page }}</a
      >
    </li>
    {% else %}
    <li>
      <a href="#">â€¦</a>
    </li>
    {% endif %} {% endfor %} {% if all_affirmations.has_next %}
    <li>
      <a
        href="{{ url_for('affirmations.affirmations', page=all_affirmations.next_num, category=request.args.get('category')) }}"
        >Next</a
      >
    </li>
    {% else %}
    <li>
      <span>Next</span>
      {% endif %}
    </li>
  </ul>
</section>
<hr />
<!-- dummy category filtering -->
<section>
  Category <br />
  <ul>
    {% for category in categories %}
    <li>
      <a
        href="{{ url_for('affirmations.affirmations', page=1, category=category.name) }}"
      >
        {{ category.name }}
      </a>
    </li>
    {% endfor %}
  </ul>
</section>
<hr />

<section class="affirms__wrapper">
  {% for affirmation in all_affirmations %}
  <div class="affirm">
    <figure class="affirm__wrapper">
      <blockquote class="affirm__quote">
        {{ affirmation.affirmation_text }}
      </blockquote>
      <figcaption class="affirm__cats">
        {% for category in affirmation.categories %} {{ category.category.name
        }} {% endfor %}
      </figcaption>
    </figure>
    <div class="affirm__btn--wrapper">
      <a
        href="{{ url_for('affirmations.edit_affirmation', affirmation_id=affirmation.affirmation_id)}}"
        class="affirm__edit"
        >Edit
      </a>
      {% if affirmation.user_id == user.user_id %}
      <form
        method="POST"
        action="{{ url_for('affirmations.delete_affirmation', affirmation_id=affirmation.affirmation_id) }}"
      >
        <button class="affirm__delete" type="submit">Delete</button>
      </form>
    </div>
    {% endif %}
  </div>
  {% endfor %}
</section>

<section class="affirm__section--bottom">
  <a href="{{ url_for('affirmations.add_affirmation') }}" class="affirm__action"
    >Add affirmation</a
  >
</section>
{% endblock %}
