{% extends "base.html" %} {% block title %}{{ title }}{% endblock %} {% block
content %}

<section class="home__section home__hero">
  {% if current_user.is_authenticated %}
  <h1>Welcome Back, {{ current_user.name }}!</h1>
  <p>You are logged in as: {{ current_user.username }}</p>
  {% else %}
  <h1>Welcome</h1>
  {% endif %}
</section>

<section class="home__section home__affirms">
  <h2>Today's Affirmation</h2>
  <div class="affirms__wrapper">
    {% for affirmation in all_affirmations[:3] %}
    <div class="affirm">
      <figure class="affirm__wrapper">
        <blockquote class="affirm__quote">
          {{ affirmation.affirmation_text }}
        </blockquote>
        <figcaption class="affirm__cats">
          {% for category in affirmation.categories %} {{ category.category.name
          }} {% endfor %}
        </figcaption>
      </figure>
      <div class="affirm__btn--wrapper">
        {% if current_user.is_authenticated %}
        <button
          class="affirm__btn"
          aria-label="Pin"
          onclick="updateActionType('{{ affirmation.affirmation_id }}', 'pin')"
        >
          +
        </button>
        {% endif %}
        <p>
          {% if current_user.is_authenticated %} Save this affirmation {% else
          %}
          <a href="{{ url_for('auth.login') }}">Log in</a> to save this
          affirmation {% endif %}
        </p>
      </div>
    </div>
    {% endfor %}
  </div>

  {% if current_user.is_authenticated %}
  <a class="affirm__action" href="{{ url_for('root.dashboard') }}"
    >Go to User Dashboard</a
  >
  <a class="affirm__action" href="{{ url_for('auth.profile') }}"
    >View Profile</a
  >
  {% if current_user.is_admin() %}
  <a class="affirm__action" href="{{ url_for('root.admin_dashboard') }}">Go to Admin Dashboard</a>
  {% endif %}
  <a class="affirm__action" href="#affirmation-generator"
    >Affirmation Generator</a
  >
  {% endif %}
</section>

{% if current_user.is_authenticated %}
<section class="home__section">
  <h2>Pinned Affirmations</h2>
</section>  
{% endif %}

<section class="home__section" id="affirmation-generator">
  <h2>Affirmation Generator</h2>
  {% for affirmation in all_affirmations[:1] %}
  <figure class="affirm__wrapper">
    <blockquote class="affirm__quote" id="random-affirmation">
      {{ affirmation.affirmation_text }}
    </blockquote>
    <figcaption class="affirm__cats">Self Worth</figcaption>
  </figure>
  {% endfor %}
  <button class="affirm__action" onclick="getRandomAffirmation()">
    Get Affirmation
  </button>
</section>

{% if not current_user.is_authenticated %}
<section class="home__section">
  <h2>Default Categories</h2>
    <div class="collections__cats">
    <ul class="collections__cats__list">
      {% for category in admin_categories %}
        <li>{{ category.name }}</li>
      {% endfor %}
    </ul>
  </div>
  <div class="pagination">
    <button class="btn btn--primary opacity--50">&lt;</button>
    <ul>
      <li class="active">1</li>
      <li>2</li>
      <li>3</li>
    </ul>
    <button class="btn btn--primary">&gt;</button>
  </div>
</section>
{% endif %}
{% endblock %}
