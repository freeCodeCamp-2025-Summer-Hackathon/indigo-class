{% extends "base.html" %} {% block title %}User Setting{% endblock %}  

{% block content %}
<section class="user__setting_font__size">
    <h2 class="setting__bg">User Settings</h2>

    <span class="display__name">{{ user_summary.firstname }}</span>
    <img src="../static/images/edit_icon.svg" class="edit__icon name" data-type="change__dname">

    <div class="modal__bg">
        <div class="modal__content">
        </div>
    </div>

    <img src="../static/images/profile_img.svg" class="profile__pic">
    <img src="../static/images/edit_icon.svg" class="edit__icon pic" data-type="change__pic">

    <div class="content">
        <form class="form__group" method="POST" action="{{ url_for('user_settings.update_profile') }}">
            <div class="input__row">
                <label for="change__email">New Email:</label>
                <input type="email" id="change__email" name="email" placeholder="chloe@coolemail.com" required>
            </div>

            <div class="input__row">
                <label for="email__password">Current Password:</label>
                <input type="password" id="email__password" name="password" required>
            </div>
        </form>
    </div>

    <form class="daily__affirmation" method="POST" action="{{ url_for('user_settings.toggle_email_subscription') }}">
            <input type="checkbox" class="check__box" id="receive__email">
            <label for="receive__email" class="checkbox__label">Receive daily affirmation in email</label>
    </form>

    <div class="content">
        <form class="form__group username" method="POST" action="{{ url_for('user_settings.update_profile') }}">
            <div class="input__row">
                <label for="change__username">New Username:</label>
                <input type="text" id="change__username" name="username" placeholder="NewUser" required>
            </div>

            <div class="input__row">
                <label for="username__password">Current Password:</label>
                <input type="password" id="username__password" name="password" required>
            </div>
        </form>
    </div>

    <div class="content">
        <form class="form__group password" method="POST" action="{{ url_for('user_settings.change_password') }}">
            <div class="input__row">
                <label for="change__password">Current Password:</label>
                <input type="password" id="change__password" name="password" placeholder="***************" required>
            </div>

            <div class="input__row">
                <label for="new__password">New Password:</label>
                <input type="password" id="new__password" name="new__password" required>
            </div>

            <div class="input__row">
                <label for="confirm__password">Confirm New Password:</label>
                <input type="password" id="confirm__password" name="confirm__password" required>
            </div>
        </form>
    </div>

    <div class="content">
        <form class="form__group fname" method="POST" action="{{ url_for('user_settings.update_profile') }}">
            <div class="input__row">
                <label for="change__fname">New First Name:</label>
                <input type="text" id="change__fname" name="first_name" placeholder="Chloe" required>
            </div>

            <div class="input__row">
                <label for="fname__password">Current Password:</label>
                <input type="password" id="fname__password" name="password" required>
            </div>
        </form>
    </div>

    <div class="content">
        <form class="form__group lname" method="POST" action="{{ url_for('user_settings.update_profile') }}">
            <div class="input__row">
                <label for="change__lname">New Last Name:</label>
                <input type="text" id="change__lname" name="last_name" placeholder="Smith" required>
            </div>

            <div class="input__row">
                <label for="lname__password">Current Password:</label>
                <input type="password" id="lname__password" name="password" required>
            </div>
        </form>
    </div>

    <button type="button" class="logout__delete" id="log__out">
        <a href="{{ url_for('auth.logout') }}" class="log__out__link">Log out</a>
    </button>

    <button type="button" class="logout__delete" id="delete" data-type="delete">
        <span>Delete</span>
    </button>
</section>

<script>
    const urls = {
        updateProfile: "{{ url_for('user_settings.update_profile') }}",
        deleteUser: "{{ url_for('user_settings.delete_user') }}"
    };
</script>
<script src="{{ url_for('static', filename='scripts/user_settings.js') }}"></script>
{% endblock %}