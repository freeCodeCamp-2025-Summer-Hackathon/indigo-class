{% extends "base.html" %} {% block title %}User Settings{% endblock %}  

{% block content %}
<section class="user__setting_font__size">
    <h1 class="setting__bg">User Settings</h1>

    <section class="user__setting--user">
        <h2 class="display__name">{{ user_summary.firstname }}</h2>
        <button data-type="change__dname" class="edit__btn">
            <img src="{{ url_for('static', filename='images/edit_icon.svg') }}" class="edit__icon name" alt="Edit username">
        </button>
    </section>

    <div class="modal__bg">
        <div class="modal__content">
        </div>
    </div>

    <section class="user__setting__profile-pic">
        <img src="{{ url_for('static', filename='images/profile_img.svg') }}" class="profile__pic" alt="User profile image">
        <button class="edit__btn pic" data-type="change__pic">
            <img src="{{ url_for('static', filename='images/edit_icon.svg') }}" class="edit__icon"  alt="Change user profile picture">
        </button>
    </section>

    <section class="content">
        <form class="form__group" method="POST" action="{{ url_for('user_settings.update_profile') }}">
            <div class="input__row">
                <label for="change__username">New Username:</label>
                <input type="text" id="change__username" name="username" placeholder="NewUser" required>
            </div>

            <div class="input__row">
                <label for="change__fname">New First Name:</label>
                <input type="text" id="change__fname" name="first_name" placeholder="Chloe" required>
            </div>

            <div class="input__row">
                <label for="change__lname">New Last Name:</label>
                <input type="text" id="change__lname" name="last_name" placeholder="Smith" required>
            </div>

            <div class="input__row">
                <label for="change__email">New Email:</label>
                <input type="email" id="change__email" name="email" placeholder="chloe@coolemail.com" required>
            </div>

            <div class="checkbox__wrapper">
                <input type="checkbox" class="check__box" id="receive__email">
                <label for="receive__email" class="checkbox__label">Receive daily affirmation in email</label>
            </div>

            <div class="input__row">
                <label for="change__password">Current Password:</label>
                <input type="password" id="change__password" name="password" placeholder="***************" required>
            </div>

            <div class="input__row">
                <label for="new__password">New Password:</label>
                <input type="password" id="new__password" name="new__password" required>
            </div>

            <div class="input__row">
                <label for="confirm__password">Confirm New Password:</label>
                <input type="password" id="confirm__password" name="confirm__password" required>
            </div>

            <div class="form__actions">
                <button type="submit" class="submit">Submit</button>
            </div>
        </form>
    </section>

    <button type="button" class="logout__delete" id="log__out">
        <a href="{{ url_for('auth.logout') }}" class="log__out__link">Log out</a>
    </button>

    <button type="button" class="logout__delete" id="delete" data-type="delete">
        <span>Delete Account</span>
    </button>
</section>

<script>
    const urls = {
        updateProfile: "{{ url_for('user_settings.update_profile') }}",
        deleteUser: "{{ url_for('user_settings.delete_user') }}"
    };
</script>
<script src="{{ url_for('static', filename='scripts/user_settings.js') }}"></script>
{% endblock %}
